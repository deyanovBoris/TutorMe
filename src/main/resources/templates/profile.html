<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec='http://www.thymeleaf.org/extras/spring-security'>
<head>
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Profile Page</title>-->
<!--    <link href="/css/bootstrap.min.css" rel="stylesheet">-->
    <head th:include="fragments/head:: headerFragment (pageTitle = 'Profile: ' + ${username})">
    </head>
</head>
<body>

<div th:replace="~{/fragments/color-toggle}">Color toggle</div>

<div th:replace="~{fragments/header::navbar(activeLink=${'profile'})}">Header</div>

<div class="b-example-divider"></div>

<div class="profile-container">
    <div class="row m-4">
        <!-- Profile Section -->
        <div class="col-lg-4" >
            <div class="card p-5 mb-3 " style="height: 399px">
                <div class="text-center">
                    <h4>Welcome!</h4>
                    <p th:text="${userData.username}">Username</p>
                    <img th:src="${userData.profilePhotoUrl}" alt="Profile Photo" class="profile-photo">
                    <h5 class="mt-3">Bio:</h5>
                    <p th:text="${userData.biography}">Bio</p>
                </div>
            </div>

            <div class="card p-4 mt-4 mb-4" style="height: 397px">
                <h5>Appointments</h5>
                <div class="scroll-vertical">
                    <a th:href="@{/}" style="text-decoration: none">
                        <div class="card p-2 mb-2">
                            <div class="appointment-info">
                                <span>Course 1</span>
                                <span>July 30, 2024 - 10:00 AM</span>
                                <span>Room 101</span>
                            </div>
                        </div>
                    </a>
                    <div class="card p-2 mb-2">
                        <div class="appointment-info">
                            <span>Course 1</span>
                            <span>July 30, 2024 - 10:00 AM</span>
                            <span>Room 101</span>
                        </div>
                    </div>
                    <div class="card p-2 mb-2">
                        <div class="appointment-info">
                            <span>Course 2</span>
                            <span>August 5, 2024 - 2:00 PM</span>
                            <span>Room 202</span>
                        </div>
                    </div>
                    <div class="card p-2 mb-2">
                        <div class="appointment-info">
                            <span>Course 3</span>
                            <span>August 12, 2024 - 11:00 AM</span>
                            <span>Online</span>
                        </div>
                    </div>
                    <div class="card p-2 mb-2">
                        <div class="appointment-info">
                            <span>Course 3</span>
                            <span>August 12, 2024 - 11:00 AM</span>
                            <span>Online</span>
                        </div>
                    </div>
                    <!-- Add more appointment cards as needed -->
                </div>
            </div>
        </div>



        <!-- Courses and Appointments Section -->
        <div class="col-lg-8">
            <!-- My Courses Section -->
            <div class="card p-3 mb-4" style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); border-radius: 10px;">
                <h5>Attending Courses</h5>
                <div class="scroll-horizontal">
                    <div th:if="${userData.getCoursesAttending().size() == 0}">
                        <p class="ms-2">Not attending any courses</p>
                    </div>
                    <div th:each="course : ${userData.coursesAttending}" class="card m-2">
                        <a th:href="@{/course/{id}(id=${course.id})}" class="card" style="text-decoration: none;">
                            <img th:src="${course.courseImageUrl}" alt="Course Photo" class="profile-course-photo">
                            <div class="card-body">
                                <h6 th:text="${course.title}" class="card-title">Course Title 1</h6>
                                <p class="card-text">Term: Spring 2024</p>
                                <p class="card-text">Start Date: <span th:text="${course.startDate}"> January 10, 2024</span></p>
                                <p class="card-text">End Date: <span th:text="${course.startDate}"> May 10, 2024</span></p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <div sec:authorize="hasRole('TUTOR')" class="card p-3 mb-4" style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); border-radius: 10px;">
                <h5>My Courses</h5>
                <div class="scroll-horizontal">
                    <div th:if="${userData.getCoursesTutoring().size() == 0}">
                        <p class="ms-2">Not attending any courses</p>
                    </div>
                    <div th:each="course : ${userData.coursesTutoring}" class="m-2">
                        <a th:href="@{/course/{id}(id=${course.id})}" class="card" style="text-decoration: none;">
                            <img th:src="${course.courseImageUrl}" alt="Course Photo" class="profile-course-photo">
                            <div class="card-body">
                                <h6 th:text="${course.title}" class="card-title">Course Title 1</h6>
                                <p class="card-text">Term: Spring 2024</p>
                                <p class="card-text">Start Date: <span th:text="${course.startDate}"> January 10, 2024</span></p>
                                <p class="card-text">End Date: <span th:text="${course.startDate}"> May 10, 2024</span></p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Appointments Section -->
<!--            <div class="card p-4">-->
<!--                <h5>Appointments</h5>-->
<!--                <div class="scroll-vertical">-->
<!--                    <div class="card p-2 mb-2">-->
<!--                        <div class="appointment-info">-->
<!--                            <span>Course 1</span>-->
<!--                            <span>July 30, 2024 - 10:00 AM</span>-->
<!--                            <span>Room 101</span>-->
<!--                            <a href="#" class="btn btn-primary btn-sm">Go to Appointment</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="card p-2 mb-2">-->
<!--                        <div class="appointment-info">-->
<!--                            <span>Course 2</span>-->
<!--                            <span>August 5, 2024 - 2:00 PM</span>-->
<!--                            <span>Room 202</span>-->
<!--                            <a href="#" class="btn btn-primary btn-sm">Go to Appointment</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="card p-2 mb-2">-->
<!--                        <div class="appointment-info">-->
<!--                            <span>Course 3</span>-->
<!--                            <span>August 12, 2024 - 11:00 AM</span>-->
<!--                            <span>Online</span>-->
<!--                            <a href="#" class="btn btn-primary btn-sm">Go to Appointment</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="card p-2 mb-2">-->
<!--                        <div class="appointment-info">-->
<!--                            <span>Course 3</span>-->
<!--                            <span>August 12, 2024 - 11:00 AM</span>-->
<!--                            <span>Online</span>-->
<!--                            <a href="#" class="btn btn-primary btn-sm">Go to Appointment</a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    &lt;!&ndash; Add more appointment cards as needed &ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
        </div>
    </div>
</div>

<div class="b-example-divider"></div>

<div th:replace="~{fragments/footer}">Footer</div>

<script src="/js/jquery-3.7.1.min.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.bundle.min.js"></script>
</body>
</html>
